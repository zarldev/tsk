{{ define "main" }}
<section class="hero hero-full">
  <pre class="ascii-title" aria-hidden="true">
 _        _
| |_ ___ | | __
| __/ __|| |/ /
| |_\__ \|   &lt;
 \__|___/|_|\_\</pre>
  <h1 class="sr-only">tsk</h1>
  <p class="tagline">task tracking for people who live in the terminal</p>
  <div class="install-block">
    <div class="terminal-window">
      <div class="terminal-chrome"><span></span><span></span><span></span></div>
      <div class="terminal-tabs">
        <span class="terminal-tab" data-tab="macos">macOS</span>
        <span class="terminal-tab" data-tab="linux">Linux</span>
        <span class="terminal-tab active" data-tab="go">go install</span>
      </div>
      <pre class="terminal-cmd" data-tab="macos" hidden><code><span class="prompt">$</span> brew install zarldev/tap/tsk</code><button class="copy-btn" data-copy="brew install zarldev/tap/tsk" aria-label="Copy">&#x2398;</button></pre>
      <pre class="terminal-cmd" data-tab="linux" hidden><code><span class="prompt">$</span> curl -fsSL https://github.com/zarldev/tsk/releases/latest/download/tsk-linux-amd64.tar.gz | tar xz
<span class="prompt">$</span> sudo mv tsk /usr/local/bin/</code><button class="copy-btn" data-copy="curl -fsSL https://github.com/zarldev/tsk/releases/latest/download/tsk-linux-amd64.tar.gz | tar xz && sudo mv tsk /usr/local/bin/" aria-label="Copy">&#x2398;</button></pre>
      <pre class="terminal-cmd" data-tab="go"><code><span class="prompt">$</span> go install github.com/zarldev/tsk/cmd/tsk@latest</code><button class="copy-btn" data-copy="go install github.com/zarldev/tsk/cmd/tsk@latest" aria-label="Copy">&#x2398;</button></pre>
    </div>
  </div>
  <p class="hero-links">
    <a href="/tsk/docs/">docs</a> &middot; <a href="https://github.com/zarldev/tsk">github</a>
  </p>
</section>
<script>
(function() {
  var tabs = document.querySelectorAll('.terminal-tab');
  var cmds = document.querySelectorAll('.terminal-cmd');
  var p = navigator.platform || '';
  var dflt = p.startsWith('Mac') ? 'macos' : p.indexOf('Linux') !== -1 ? 'linux' : 'go';
  function activate(id) {
    tabs.forEach(function(t) { t.classList.toggle('active', t.dataset.tab === id); });
    cmds.forEach(function(c) { c.hidden = c.dataset.tab !== id; });
  }
  tabs.forEach(function(t) { t.addEventListener('click', function() { activate(t.dataset.tab); }); });
  activate(dflt);

  document.querySelectorAll('.copy-btn').forEach(function(btn) {
    btn.addEventListener('click', function() {
      navigator.clipboard.writeText(btn.dataset.copy).then(function() {
        btn.textContent = '\u2713';
        btn.classList.add('copied');
        setTimeout(function() { btn.innerHTML = '\u2398'; btn.classList.remove('copied'); }, 1500);
      });
    });
  });
})();
</script>
{{ end }}
